{% extends "base.html" %}

{% block content %}
<div>

    <form method="POST">
        <p>App name: <input
            type="text"
            name="name"
            />
        </p>
        <p>
            Redirect URL: <input
                type="text"
                name="redirect-url"
                />
        </p>
        <p>
            Realms (space-separated no-space items): <input
                type="text"
                name="realms"
                />
        </p>
        <!-- TODO: form validation -->
        <input
            type="submit"
            value="Create a new Consumer app!"
            class="button"
                />
    </form>
    <hr />

    {% if consumers %}
    <ul id="consumer-list">
        {% for c in consumers %}
        <li>
            <h5><a href="{{ url_for('developer_app_details', app_id=c.id) }}">
                Consumer #{{ c.id }}</a></h5>
            <table class="consumer">
                <tr>
                    <td>Consumer Key</td>
                    <td><code>{{ c.client_key }}</code></td>
                </tr>
                <tr>
                    <td>Consumer Secret</td>
                    <td><code>{{ c.client_secret }}</code></td>
                </tr>
                <tr>
                    <td>Default redirect URL</td>
                    <td><code>{{ c.default_redirect_uri }}</code></td>
                </tr>
                <tr>
                    <td>Realms</td>
                    <td><code>{{ c._realms }}</code></td>
                </tr>
                <tr>
                    <td>Owner</td>
                    <td><code>{{ creator_repr }}</code></td>
                </tr>
            </table>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div>You have no Consumer applications yet.</div>
    {% endif %}

</div>
{% endblock %}
